!function(){function t(t,e){if(!i.isArray(t))throw new Error("pics must be an array type");this.pics=t,this.options=i.extend({},this.constructor.defaultOptions,e),this.index=this.failNum=0,this.init()}var e="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global||this||{},i={extend:function(t){for(var e=1,i=arguments.length;e<i;e++)for(var o in arguments[e])arguments[e].hasOwnProperty(o)&&(t[o]=arguments[e][o]);return t},isArray:function(t){return Array.isArray?Array.isArray(t):"[object Array]"==Object.prototype.toString.call(t)},isValidListener:function(t){return"function"==typeof t||!(!t||"object"!=typeof t)&&i.isValidListener(t.listener)},indexOf:function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=-1,o=0,n=t.length;o<n;o++)if(t[o]===e){i=o;break}return i}};t.VERSION="1.0.0",t.defaultOptions={complete:function(){},progress:function(){}};var o=t.prototype;o.init=function(){for(var t=0;t<this.pics.length;t++)this.loadImg(pics[t])},o.loadImg=function(t){var e=this,i=new Image;i.onload=function(){i.onload=null,e.progress(t,"success")},i.onerror=function(){e.progress(t,"fail")},i.src=t},o.progress=function(t,e){"fail"==e&&this.failNum++,this.index++,this.options.progress(this.index,this.pics.length,e),this.index===this.pics.length&&this.options.complete(this.pics.length-this.failNum,this.failNum)},"undefined"==typeof exports||exports.nodeType?e.Preload=t:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=t),exports.Preload=t)}();